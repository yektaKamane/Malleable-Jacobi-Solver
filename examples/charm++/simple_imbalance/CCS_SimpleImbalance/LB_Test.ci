mainmodule LB_Test {
  readonly CProxy_Main mainProxy;
  readonly int num_chare_blocks;
  readonly int workWeight;
  readonly int total_iterations;

  mainchare Main {
    entry Main(CkArgMsg *m);
    entry void report_in();
    entry void iterBarrier(double chareWorkTime);
    entry void report_done();
    entry void ccsHandshake(CkCcsRequestMsg *m);
  };

  array [1D] LB_Test {
    // Normal Charm++ entry methods
    entry LB_Test(void);
    entry void next_iter();
  };
};
