mainmodule bcast_nonzero_root
{

  readonly CProxy_arr1 arrProxy;
  readonly CProxy_grp1 grpProxy;
  readonly CProxy_nodegrp1 ngProxy;
  readonly CProxy_tester testerProxy;
  readonly CProxy_main mProxy;

  mainchare main
  {
    entry main(CkArgMsg *);
    entry void beginTest();
  };

  group tester {
    entry tester();
    entry void beginTest();
    entry [reductiontarget] void bcastDone();
  };

  array [1D] arr1{
    entry arr1();
    entry void recv_zerocopy(nocopy int buffer[size], size_t size, int testIndex);
    entry void recv_zerocopy_post(nocopypost int buffer[size], size_t size, int testIndex);
  };

  group grp1{
    entry grp1();
    entry void recv_zerocopy(nocopy int buffer[size], size_t size, int testIndex);
    entry void recv_zerocopy_post(nocopypost int buffer[size], size_t size, int testIndex);
  };

  nodegroup nodegrp1{
    entry nodegrp1();
    entry void recv_zerocopy(nocopy int buffer[size], size_t size, int testIndex);
    entry void recv_zerocopy_post(nocopypost int buffer[size], size_t size, int testIndex);
  };
}
